## GENERATED BY bitnami/express:{{BITNAMI_IMAGE_VERSION}} IMAGE
## BROUGHT TO YOU BY BITNAMI.
##
## BUILDING
##   (from project root directory)
##   $ docker build -t myapp .
##
## RUNNING
##   $ docker run -p 3000:3000 myapp
##

FROM bitnami/express:{{BITNAMI_IMAGE_VERSION}}
MAINTAINER john.smith@acme.com

ENV DISABLE_WELCOME_MESSAGE=1

ENV NODE_ENV=production \
    PORT=3000

# fine tune the behavior of the default entrypoint
ENV SKIP_DB_WAIT=0 \
    SKIP_DB_MIGRATION=1 \
    SKIP_NPM_INSTALL=1

COPY . /app
RUN sudo chown -R bitnami: /app

RUN npm install

EXPOSE 3000
CMD ["npm", "start"]
