file:
  # Checks default config for erlang is set
  {{ .Vars.root_dir }}/ksql/etc/ksqldb/ksql-server.properties.default:
    exists: true
    filetype: file
    contains:
      - /http://0.0.0.0:8088/
      - /ssl.client.authentication = NONE/
      - /bootstrap.servers = localhost:9092/
      - /ksql.streams.state.dir = \/bitnami\/ksql\/data/
# ksql does not have a version flag so we initiate the shell
# which does show the version.
command:
  check-app-version:
    exec: timeout 5s ksql
    exit-status: 0
    stdout:
      - {{ .Env.APP_VERSION }}
