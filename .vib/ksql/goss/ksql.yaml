# Copyright VMware, Inc.
# SPDX-License-Identifier: APACHE-2.0

file:
  # Checks default config for erlang is set
  # Test specific for branch@7.5
  {{ if regexMatch "^7.5.+" .Env.APP_VERSION }}
  /opt/bitnami/ksql/etc/ksqldb/ksql-server.properties:
  {{ else }}
  /opt/bitnami/ksql/etc/ksqldb/ksql-server.properties.default:
  {{ end }}
    exists: true
    filetype: file
    contains:
      - http://0.0.0.0:8088
      - ksql.streams.state.dir = /bitnami/ksql/data
  # ksql does not have a version flag so we check the version.txt
  /opt/bitnami/ksql/share/doc/confluent-kafka-mqtt/version.txt:
    exists: true
    contains:
      - {{ .Env.APP_VERSION }}
